package io.github.warforged5.mashkmp.components

import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.grid.*
import androidx.compose.foundation.shape.CircleShape
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun IconSelectionSheet(
    onDismiss: () -> Unit,
    onIconSelected: (String) -> Unit
) {
    val icons = remember {
        listOf(
            "ðŸ˜€", "ðŸ˜ƒ", "ðŸ˜„", "ðŸ˜", "ðŸ˜†", "ðŸ˜…", "ðŸ˜‚", "ðŸ¤£", "ðŸ˜Š", "ðŸ˜‡",
            "ðŸ™‚", "ðŸ™ƒ", "ðŸ˜‰", "ðŸ˜Œ", "ðŸ˜", "ðŸ¥°","ðŸ˜š",
            "ðŸ˜‹", "ðŸ˜", "ðŸ˜œ", "ðŸ¤ª", "ðŸ¤¨", "ðŸ§", "ðŸ¤“", "ðŸ˜Ž", "ðŸ¥¸",
            "ðŸ¤©", "ðŸ¥³", "ðŸ˜", "ðŸ˜’", "ðŸ˜”", "ðŸ˜Ÿ", "ðŸ˜•", "ðŸ™", "â˜¹ï¸",
            "ðŸ˜£", "ðŸ˜–", "ðŸ˜«", "ðŸ˜©", "ðŸ¥º", "ðŸ˜¢", "ðŸ˜­", "ðŸ˜¤", "ðŸ˜ ", "ðŸ˜¡",
            "ðŸ¤¬", "ðŸ¤¯", "ðŸ˜³", "ðŸ¥µ", "ðŸ¥¶", "ðŸ˜±", "ðŸ˜¨", "ðŸ˜°", "ðŸ˜¥", "ðŸ˜“",
            "ðŸ¤—", "ðŸ¤”", "ðŸ«£", "ðŸ¤­", "ðŸ«¢", "ðŸ«¡", "ðŸ¤«", "ðŸ« ", "ðŸ¤¥", "ðŸ˜¶",
            "ðŸ«¥", "ðŸ˜", "ðŸ˜‘", "ðŸ˜¬", "ðŸ™„", "ðŸ˜¯", "ðŸ˜®", "ðŸ˜²",
            "ðŸ¥±", "ðŸ˜´", "ðŸ¤¤", "ðŸ˜ª", "ðŸ˜®â€ðŸ’¨", "ðŸ˜µ", "ðŸ˜µâ€ðŸ’«", "ðŸ¤", "ðŸ¥´", "ðŸ¤¢",
            "ðŸ¤®", "ðŸ¤§", "ðŸ˜·", "ðŸ¤’", "ðŸ¤•", "ðŸ¤‘", "ðŸ¤ ", "ðŸ˜ˆ", "ðŸ‘¿", "ðŸ‘¹",
            "ðŸ‘º", "ðŸ¤¡", "ðŸ’©", "ðŸ‘»", "ðŸ’€", "â˜ ï¸", "ðŸ‘½", "ðŸ‘¾", "ðŸ¤–", "ðŸŽƒ",
            "ðŸ¦¾", "ðŸ–•", "âœï¸", "ðŸ™", "ðŸ«µ", "ðŸ¦¿", "ðŸ’„", "ðŸ’‹", "ðŸ‘„", "ðŸ«¦", "ðŸ¦·", "ðŸ‘…", "ðŸ‘‚",
            "ðŸ‘ƒ", "ðŸ‘£", "ðŸ‘ï¸", "ðŸ‘€", "ðŸ«€", "ðŸ«", "ðŸ§ ", "ðŸ—£ï¸", "ðŸ‘¤",
            "ðŸ‘¥", "ðŸ«‚", "ðŸ‘¶", "ðŸ‘§", "ðŸ§’", "ðŸ‘¦", "ðŸ‘©â€ðŸ¦±",
            "ðŸ§‘â€ðŸ¦±", "ðŸ‘¨â€ðŸ¦°", "ðŸ‘©â€ðŸ¦³", "ðŸ§‘â€ðŸ¦³",
            "ðŸ‘¨â€ðŸ¦³", "ðŸ‘©â€ðŸ¦²", "ðŸ§‘â€ðŸ¦²", "ðŸ‘¨â€ðŸ¦²", "ðŸ§”â€â™€ï¸", "ðŸ§”", "ðŸ§”â€â™‚ï¸", "ðŸ‘µ", "ðŸ§“", "ðŸ‘´",
            "ðŸ‘²", "ðŸ‘³â€â™€ï¸", "ðŸ‘®â€â™‚ï¸" ,"ðŸ‘·",
            "ðŸ‘·â€â™‚ï¸", "ðŸ’‚â€â™€ï¸", "ðŸ•µï¸â€â™‚ï¸", "ðŸ‘©â€âš•ï¸", "ðŸ§‘â€âš•ï¸", "ðŸ‘¨â€âš•ï¸", "ðŸ‘¨â€ðŸŒ¾","ðŸ‘¨â€ðŸ³", "ðŸ‘©â€ðŸŽ“", "ðŸ§‘â€ðŸŽ“", "ðŸ‘¨â€ðŸŽ“", "ðŸ‘©â€ðŸŽ¤",
            "ðŸ§‘â€ðŸŽ¤", "ðŸ‘¨â€ðŸŽ¤", "ðŸ‘¨â€ðŸ«", "ðŸ‘©â€ðŸ­", "ðŸ§‘â€ðŸ­", "ðŸ‘¨â€ðŸ­", "ðŸ‘©â€ðŸ’»", "ðŸ§‘â€ðŸ’»",
            "ðŸ‘¨â€ðŸ’»", "ðŸ‘©â€ðŸ’¼", "ðŸ‘©â€ðŸ”§", "ðŸ‘©â€ðŸ”¬", "ðŸ§‘â€ðŸ”¬", "ðŸ‘¨â€ðŸ”¬",
            "ðŸ‘©â€ðŸŽ¨", "ðŸ§‘â€ðŸŽ¨", "ðŸ‘¨â€ðŸŽ¨", "ðŸ‘©â€ðŸš’", "ðŸ‘©â€âœˆï¸", "ðŸ§‘â€âœˆï¸", "ðŸ‘¨â€âœˆï¸", "ðŸ‘©â€ðŸš€",
            "ðŸ§‘â€ðŸš€", "ðŸ‘¨â€ðŸš€", "ðŸ‘©â€âš–ï¸", "ðŸ§‘â€âš–ï¸", "ðŸ‘°â€â™€ï¸", "ðŸ¤µ",
            "ðŸ¤µâ€â™‚ï¸", "ðŸ‘¸", "ðŸ¥·", "ðŸ¦¸â€â™‚ï¸", "ðŸ¦¹",
            "ðŸŽ…", "ðŸ§™â€â™‚ï¸", "ðŸ§",
            "ðŸ§›â€â™€ï¸", "ðŸ§Ÿâ€â™€ï¸", "ðŸ§žâ€â™‚ï¸", "ðŸ§œâ€â™€ï¸",
            "ðŸ§œ", "ðŸ§œâ€â™‚ï¸", "ðŸ§šâ€â™€ï¸", "ðŸ§š", "ðŸ§šâ€â™‚ï¸", "ðŸ’…", "ðŸ¤³", "ðŸ’ƒ", "ðŸ•º", "ðŸ‘¯â€â™€ï¸", "ðŸ•´ï¸", "ðŸ§Žâ€â™€ï¸", "ðŸ§Ž", "ðŸ§Žâ€â™‚ï¸", "ðŸƒâ€â™€ï¸", "ðŸ§â€â™€ï¸", "ðŸ§",
            "ðŸ§â€â™‚ï¸","ðŸ‘«", "ðŸ‘©â€â¤ï¸â€ðŸ‘¨", "ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘©",
            "ðŸ’", "ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨", "ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨", "ðŸ‘ª", "ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦", "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§", "ðŸª¢", "ðŸ§¶", "ðŸ§µ", "ðŸª¡", "ðŸ§¥", "ðŸ¥¼", "ðŸ¦º", "ðŸ‘š",
            "ðŸ‘•", "ðŸ‘–", "ðŸ©²", "ðŸ©³", "ðŸ‘”", "ðŸ‘—", "ðŸ‘™", "ðŸ©±", "ðŸ‘˜", "ðŸ¥»",
            "ðŸ¥¿", "ðŸ‘ ", "ðŸ‘¡", "ðŸ‘¢", "ðŸ‘ž", "ðŸ‘Ÿ", "ðŸ¥¾", "ðŸ§¦", "ðŸ§¤", "ðŸ§£",
            "ðŸŽ©", "ðŸ§¢", "ðŸ‘’", "ðŸŽ“", "â›‘ï¸", "ðŸª–", "ðŸ‘‘", "ðŸ’", "ðŸ‘", "ðŸ‘›",
            "ðŸ‘œ", "ðŸ’¼", "ðŸŽ’", "ðŸ§³", "ðŸ‘“", "ðŸ•¶ï¸", "ðŸ¥½", "ðŸŒ‚"
        )
    }

    ModalBottomSheet(onDismissRequest = onDismiss) {
        Column(
            modifier = Modifier.padding(16.dp),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text("Select an Icon", style = MaterialTheme.typography.titleLarge, fontWeight = FontWeight.Bold)
            Spacer(modifier = Modifier.height(16.dp))
            LazyVerticalGrid(
                columns = GridCells.Adaptive(minSize = 64.dp),
                contentPadding = PaddingValues(8.dp),
                horizontalArrangement = Arrangement.spacedBy(8.dp),
                verticalArrangement = Arrangement.spacedBy(8.dp)
            ) {
                items(icons) { icon ->
                    Surface(
                        modifier = Modifier
                            .size(64.dp)
                            .clickable { onIconSelected(icon) },
                        shape = CircleShape,
                        color = MaterialTheme.colorScheme.secondaryContainer
                    ) {
                        Box(contentAlignment = Alignment.Center) {
                            Text(icon, style = MaterialTheme.typography.headlineMedium)
                        }
                    }
                }
            }
        }
    }
}